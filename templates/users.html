<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SmartSchool | System Users</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
  background:#f8fafc;
  font-family:'Segoe UI',sans-serif;
}
.card{
  border-radius:16px;
  box-shadow:0 10px 25px rgba(0,0,0,.08);
}
.section-title{
  font-weight:700;
  margin-bottom:15px;
}
</style>
</head>

<body>

<div class="container my-4">

<h3 class="text-center mb-4">ğŸ” System Users Dashboard</h3>

<!-- TOTAL COUNTS -->
<div class="row text-center mb-4">

  <div class="col-md-3">
    <div class="card p-3 bg-dark text-white">
      <h6>Admins</h6>
      <h3>{{ total_admins }}</h3>
    </div>
  </div>

  <div class="col-md-3">
    <div class="card p-3 bg-primary text-white">
      <h6>Students</h6>
      <h3>{{ total_students }}</h3>
    </div>
  </div>

  <div class="col-md-3">
    <div class="card p-3 bg-success text-white">
      <h6>Teachers</h6>
      <h3>{{ total_teachers }}</h3>
    </div>
  </div>

  <div class="col-md-3">
    <div class="card p-3 bg-warning text-dark">
      <h6>Parents</h6>
      <h3>{{ total_parents }}</h3>
    </div>
  </div>

</div>

<!-- ADMINS -->
<div class="card p-4 mb-4">
  <h4 class="section-title">ğŸ›  Admin & Principal</h4>
  <table class="table table-bordered text-center">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>User ID</th>
        <th>Role</th>
      </tr>
    </thead>
    <tbody>
      {% for a in admins %}
      <tr>
        <td>{{ loop.index }}</td>
        <td>{{ a.user_id }}</td>
        <td><span class="badge bg-danger">{{ a.role }}</span></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<!-- STUDENTS -->
<div class="card p-4 mb-4">
  <h4 class="section-title">ğŸ“ Students</h4>
  <table class="table table-striped table-bordered text-center">
    <thead class="table-primary">
      <tr>
        <th>#</th>
        <th>Student ID</th>
        <th>Name</th>
        <th>Class</th>
      </tr>
    </thead>
    <tbody>
      {% for s in students %}
      <tr>
        <td>{{ loop.index }}</td>
        <td>{{ s.student_id }}</td>
        <td>{{ s.name }}</td>
        <td>{{ s.class }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<!-- TEACHERS -->
<div class="card p-4 mb-4">
  <h4 class="section-title">ğŸ‘©â€ğŸ« Teachers</h4>
  <table class="table table-bordered text-center">
    <thead class="table-success">
      <tr>
        <th>#</th>
        <th>Teacher ID</th>
        <th>Name</th>
        <th>Subject</th>
      </tr>
    </thead>
    <tbody>
      {% for t in teachers %}
      <tr>
        <td>{{ loop.index }}</td>
        <td>{{ t.teacher_id }}</td>
        <td>{{ t.name }}</td>
        <td>{{ t.subject }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<!-- PARENTS -->
<div class="card p-4 mb-4">
  <h4 class="section-title">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Parents</h4>
  <table class="table table-bordered text-center">
    <thead class="table-warning">
      <tr>
        <th>#</th>
        <th>Parent ID</th>
        <th>Student Name</th>
        <th>Class</th>
      </tr>
    </thead>
    <tbody>
      {% for p in parents %}
      <tr>
        <td>{{ loop.index }}</td>
        <td>{{ p.parent_id }}</td>
        <td>{{ p.student_name }}</td>
        <td>{{ p.class }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<a href="/admin" class="btn btn-secondary w-100">â¬… Back to Admin</a>

</div>

</body>
</html>
